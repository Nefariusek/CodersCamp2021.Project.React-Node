var Ht=Object.defineProperty,Ut=Object.defineProperties;var Wt=Object.getOwnPropertyDescriptors;var qe=Object.getOwnPropertySymbols;var Ft=Object.prototype.hasOwnProperty,Bt=Object.prototype.propertyIsEnumerable;var Ke=(a,t,r)=>t in a?Ht(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,M=(a,t)=>{for(var r in t||(t={}))Ft.call(t,r)&&Ke(a,r,t[r]);if(qe)for(var r of qe(t))Bt.call(t,r)&&Ke(a,r,t[r]);return a},A=(a,t)=>Ut(a,Wt(t));import{r as i,j as e,R as B,c as Qe,s as ie,u as Gt,a as o,b as Je,F as ee,I as De,d as zt,M as Yt,e as O,L as I,T as x,B as b,S as Y,f as jt,g as Xt,A as Vt,C as te,h as qt,i as S,k as Ze,P as j,N as et,l as re,D as be,m as tt,n as _,o as Kt,p as Se,q as rt,t as _e,v as Qt,w as X,x as V,y as at,G as y,z as we,E as Jt,H as Me,J as nt,K as st,O as Zt,Q as ot,U as er,V as it,W as lt,X as tr,Y as rr,Z as ar,_ as nr,$ as sr,a0 as or,a1 as ir,a2 as lr,a3 as ct,a4 as cr,a5 as dr,a6 as ur,a7 as hr,a8 as Ce,a9 as pr,aa as mr}from"./vendor.6bdb8615.js";const gr=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(n){if(n.ep)return;n.ep=!0;const c=r(n);fetch(n.href,c)}};gr();class Oe{constructor(t,r){this.appTheme=t,this.soonExpiringFilterLength=r}}const ae=i.exports.createContext(),fr=({children:a})=>{const[t,r]=i.exports.useState(new Oe("light",3));return e(ae.Provider,{value:{settings:t,setSettings:r},children:a})},dt=B.createContext(),ut=B.createContext(),le=()=>i.exports.useContext(dt),Pe=()=>i.exports.useContext(ut),xr=({children:a})=>{const{settings:t,setSettings:r}=i.exports.useContext(ae),[s,n]=i.exports.useState(t.appTheme==="dark"),c=()=>{n(l=>!l)};return e(dt.Provider,{value:s,children:e(ut.Provider,{value:c,children:a})})},yr="https://jsonplaceholder.typicode.com/users?_limit=5";function ht(a=yr){const[t,r]=i.exports.useState(null),[s,n]=i.exports.useState(null),[c,l]=i.exports.useState(!0);return i.exports.useEffect(()=>{fetch(a).then(u=>{if(!u.ok)throw new Error(`Error status: ${u.status}`);return u.json()}).then(u=>{r(u),n(null)}).catch(u=>{n(u.message),r(null)}).finally(()=>{l(!1)})},[a]),{data:t,error:s,loading:c}}const Tr="POST",pt="PATCH",Ne={"Content-Type":"application/json"},G="http://localhost:8080/",H=i.exports.createContext(),vr=`${G}api/categories`,Er=({children:a})=>{const[t,r]=i.exports.useState(!1),[s,n]=i.exports.useState({}),{data:c}=ht(vr),l=c==null?void 0:c.medicationCategories;return e(H.Provider,{value:{loginStatus:t,setLoginStatus:r,userData:s,setUserData:n,medicationCategories:l},children:a})},Ae=i.exports.createContext(),Dr=({children:a})=>{const[t,r]=i.exports.useState(!1);return e(Ae.Provider,{value:{isModalOpen:t,setIsModalOpen:r},children:a})},br="modulepreload",mt={},Sr="./",_r=function(t,r){return!r||r.length===0?t():Promise.all(r.map(s=>{if(s=`${Sr}${s}`,s in mt)return;mt[s]=!0;const n=s.endsWith(".css"),c=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${c}`))return;const l=document.createElement("link");if(l.rel=n?"stylesheet":br,n||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),n)return new Promise((u,p)=>{l.addEventListener("load",u),l.addEventListener("error",p)})})).then(()=>t())},wr=a=>{a&&a instanceof Function&&_r(()=>import("./web-vitals.67dce932.js"),[]).then(({getCLS:t,getFID:r,getFCP:s,getLCP:n,getTTFB:c})=>{t(a),r(a),s(a),n(a),c(a)})};const Ie="#48cae4",Mr="#023e8a",gt="#059ac8",Cr="#023e8a",F="#102a71",ke="#fcd433",Le="#95d4e0",Or="#880e4f",ft="#42b6dc",xt="#1b4c56",Pr="#023e8a",Nr="#2F3A45",ce="#fff",yt="#2F3A45",Re="#fcd433",Tt="#3a4a59",Ar="#3ca6c8",Ir="#fcd433",vt="#059ac8",kr="#cc1a76",Lr="#48cae4",Rr="#059ac8",$r=Qe({palette:{primary:{main:Ie},secondary:{main:ke},common:{black:"#000",white:"#fff"},label:{main:xt},error:{main:Or},helper:{main:Nr},background:{default:Ie},title:{main:Mr,light:gt},text:{main:Pr},navbar:{main:Cr},datetime:{mainFont:F,mainBackground:ke,currentDayFont:F,currentDayBackground:Le,weekDayFont:"#fff"},tonalOffset:.1},components:{MuiFilledInput:{styleOverrides:{input:{backgroundColor:ft}}},MuiSelect:{styleOverrides:{filled:{backgroundColor:ft}}},MuiPickerStaticWrapper:{styleOverrides:{root:{backgroundColor:Ie,color:F}}},MuiPickersDay:{styleOverrides:{root:{backgroundColor:Le,color:"#fff",fontWeight:900,"&.Mui-selected":{backgroundColor:F,color:ce,"&:hover, &:focus, &.Mui-focusVisible":{backgroundColor:F,color:ce}}}}}}}),Hr=Qe({palette:{primary:{main:yt},secondary:{main:Re},common:{black:"#000",white:"#fff"},label:{main:xt},error:{main:kr},helper:{main:Lr},background:{default:Tt},title:{main:Re,light:gt},text:{main:Rr},navbar:{main:yt},datetime:{mainFont:Ir,mainBackground:ke,currentDayFont:F,currentDayBackground:Le,weekDayFont:"#000"},tonalOffset:.1},components:{MuiFilledInput:{styleOverrides:{input:{backgroundColor:vt}}},MuiSelect:{styleOverrides:{filled:{backgroundColor:vt}}},MuiPickerStaticWrapper:{styleOverrides:{root:{backgroundColor:Tt,color:Re}}},MuiPickersDay:{styleOverrides:{root:{backgroundColor:Ar,color:"#000",fontWeight:900,"&.Mui-selected":{backgroundColor:F,color:ce,"&:hover, &:focus, &.Mui-focusVisible":{backgroundColor:F,color:ce}}}}}}}),Et="./logo_color.png",Dt="Logo",de="./apteczka.png",bt="Aid kit",$e="./pills.png",Ur="Pills",He="/",ue="/homepage",St="/calendar",Ue="/credits",he="/daily",We="/lexicon",z="/login",pe="/register",Fe="/settings",_t="/mydrugs",Wr={700:"#0059B2"},wt={400:"#BFC7CF",800:"#2F3A45"},Fr=ie("span")`
  display: inline-block;
  position: relative;
  width: 64px;
  height: 36px;
  padding: 8px;
  margin-top: 0px;
`,Br=ie("input")`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  opacity: 0;
  z-index: 1;
  margin: 0;
  cursor: pointer;
`,Gr=ie("span")`
  position: absolute;
  display: block;
  background-color: ${Wr[700]};
  width: 30px;
  height: 30px;
  border-radius: 8px;
  top: 3px;
  left: 4px;
  transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);

  &::before {
    display: block;
    content: '';
    width: 100%;
    height: 100%;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>')
      center center no-repeat;
  }

  &.focusVisible {
    background-color: #79b;
  }

  &.checked {
    transform: translateX(24px);

    &::before {
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>');
    }
  }
`,zr=ie("span")(({theme:a})=>`
  background-color: ${a.palette.mode==="dark"?wt[800]:wt[400]};
  border-radius: 4px;
  width: 80%;
  height: 30%;
  display: block;
  margin-top: 5px;
`),Yr=a=>{const{getInputProps:t,checked:r,disabled:s,focusVisible:n}=Gt(a),c={checked:r,disabled:s,focusVisible:n};return o(Fr,{className:Je(c),children:[e(zr,{children:e(Gr,{className:Je(c)})}),e(Br,A(M({},t()),{"aria-label":"Demo switch"}))]})},Mt=[{path:he,name:"Daily Drugs"},{path:We,name:"Lexicon"},{path:St,name:"Calendar"},{path:_t,name:"Your drugs"}],jr={path:Et,alt:Dt},Xr=()=>{const a=Pe(),[t,r]=B.useState(null),s=i.exports.useContext(H),n=h=>{r(h.currentTarget)},c=()=>{s.setLoginStatus(!1)},l=()=>{r(null)},u=o(ee,{children:[e(Ze,{alt:"logo",src:jr.path,sx:{width:50,height:50}}),e(x,{variant:"h6",noWrap:!0,component:"div",sx:{ml:2,mt:1,mr:2},color:"white",children:"aID kIT"})]}),p=o(ee,{children:[e(De,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:n,color:"inherit",children:e(zt,{})}),e(Yt,{id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(t),onClose:l,sx:{display:{xs:"block",md:"none"}},children:Mt.map(h=>e(O,{onClick:l,component:I,to:h.path,children:e(x,{textAlign:"center",children:h.name})},h.name))})]}),g=e(ee,{children:Mt.map(h=>e(b,{onClick:l,component:I,to:h.path,sx:{my:2,color:"inherit",display:"block"},children:h.name},h.name))}),d=o(Y,{direction:"row",alignItems:"center",children:[e(Yr,{checked:le(),onChange:()=>{a()}}),e(De,{color:"inherit",size:"large","aria-label":"settings button",component:I,to:Fe,children:e(jt,{})}),e(De,{color:"inherit",size:"large","aria-label":"login button",component:I,to:z,onClick:c,children:e(Xt,{})})]});return e(Vt,{position:"static",color:"navbar",sx:{color:"white"},children:e(te,{maxWidth:"xl",children:o(qt,{disableGutters:!0,children:[o(S,{children:[e(S,{sx:{flexGrow:1,display:{xs:"none",md:"flex"},textDecoration:"none"},component:I,to:ue,color:"secondary",children:u}),e(S,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:p})]}),e(S,{sx:{flexGrow:1,display:{xs:"flex",md:"none"},color:"inherit",textDecoration:"none"},component:I,to:ue,children:u}),e(S,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:g}),d]})})})},ne=({site:a})=>i.exports.useContext(H).loginStatus?a:e(et,{to:z});ne.propTypes={site:j.node.isRequired};const Vr=1e3*60*60*24;class me{constructor(t,r,s,n,c,l,u,p,g,d){this.id=t,this.nameOfMedication=r,this.expirationDate=s,this.description=u,this.type=n,this.dosage=c,this.quantity=l,this.img=p,this.daytime=g,this.addDate=d}getExpirationDate(){let t=this.expirationDate.getDate(),r=this.expirationDate.getMonth()+1;return t=t>9?t:`0${t}`,r=r>9?r:`0${r}`,`${t}.${r}.${this.expirationDate.getFullYear()}`}daysUntilExpiration(){const t=new Date;return Math.ceil((this.expirationDate.getTime()-t.getTime())/Vr)}}const Be=new Date,se=[new me("6239ab2255c4bc6c40a9a960","Xanax",new Date(2023,0,1),"pills","1 pill",10,"pills for headache",$e,["Morning"],Be),new me("623725507200821d2ddebed6","Sizzurp",new Date(2021,1,12),"syrup","1 table spoon",4,"syrup for sore throat",de,["Noon"],Be),new me("6237255072f0821d2ddebed1","Pirate EyePatch",new Date(2022,1,20),"patches","as needed",10,"best patches after ophthalmic surgery",$e,["Evening"],Be)],qr=(a,t,r)=>{let s="";return se.forEach(n=>{n.expirationDate.getTime()===a.getTime()&&(s=`${s}${n.nameOfMedication}
`)}),e(Kt,A(M({},r),{children:o("div",{className:"day-informations",children:[e("div",{className:"day-number",children:a.getDate()}),e("p",{className:"day-expiring",children:s})]})}))},Kr=()=>{const[a,t]=i.exports.useState(Date||new Date);return o("div",{className:"monthly-calendar",children:[e("p",{children:"This view is available on bigger devices."}),e(re,{dateAdapter:be,children:e(tt,{views:["day"],displayStaticWrapperAs:"desktop",label:"MonthlyCalendar",value:a,onChange:r=>{t(r)},renderDay:qr,renderInput:r=>e(_,M({},r)),inputFormat:"'Week of' MMM d"})})]})};const Ge=["SUN","MON","TUE","WED","THU","FRI","SAT"],Qr=a=>{const t=Qt(a,{weekStartsOn:0});let r=0;const s=t,n=[];for(;r!==7;){let c="";se.forEach(l=>{l.expirationDate.getTime()===s.getTime()&&(c=`${c}${l.nameOfMedication}
`)}),n.push(e("div",{className:"week-day",children:o("div",{className:"day-informations",children:[e(x,{className:"day-number",color:"datetime.weekDayFont",children:s.getDate()}),e("div",{className:"day-information-name",children:e(x,{className:"day-name",color:"datetime.weekDayFont",children:Ge[r]})},`day${Ge[r]}`),e("div",{className:"day-expiring",children:c})]})},`day${r}`)),r+=1,s.setDate(s.getDate()+1)}return n},Jr=()=>Ge.map(a=>e(x,{className:"day-name",color:"title.light",fontWeight:"bold",children:a},`${a}`)),Zr=()=>{const[a,t]=i.exports.useState(new Date);return o("div",{className:"week-page",children:[o("div",{className:"week-settings",children:[e(Se,{onClick:()=>{const n=new Date;n.setMonth(a.getMonth()),n.setDate(a.getDate()),n.setDate(a.getDate()-7),t(n)},fontSize:"large",className:"arrow-back"}),e(re,{dateAdapter:be,children:e(rt,{views:["day"],value:a,onChange:n=>{t(n)},renderInput:n=>e(_,A(M({},n),{helperText:null}))})}),e(_e,{onClick:()=>{const n=new Date;n.setMonth(a.getMonth()),n.setDate(a.getDate()),n.setDate(a.getDate()+7),t(n)},fontSize:"large",className:"arrow-forward"})]}),e("div",{className:"day-names",children:Jr()}),e("div",{className:"week-calendar",children:Qr(a)})]})},ea=()=>{const[a,t]=i.exports.useState("Month");return o("div",{className:"calendar-page",children:[e(X,{children:o(V,{id:"select-calendar",displayEmpty:!0,value:a,onChange:s=>{t(s.target.value)},inputProps:{"aria-label":"Without label"},children:[e(O,{value:"Month",children:"Monthly Calendar"}),e(O,{value:"Week",children:"Weekly Calendar"}),e(O,{value:"Day",children:"Daily Calendar"})]})}),a==="Month"&&e(Kr,{}),a==="Week"&&e(Zr,{}),a==="Day"&&e(et,{to:he})]})};const ta="_Button_4mm32_1";var q={Button:ta};const ra="Second project of Coders Camp 2021",aa="Meet our team!",na=()=>e("div",{className:"github-buttons",children:[{href:"https://github.com/Nefariusek",name:"Szymon"},{href:"https://github.com/mngweb",name:"Sylwia"},{href:"https://github.com/NataliaCichonska",name:"Natalia"},{href:"https://github.com/MariaBanaszkiewicz",name:"Maria"},{href:"https://github.com/Urszuja",name:"Ula"},{href:"https://github.com/GRosza",name:"Grzegorz"}].map(({href:t,name:r})=>e(b,{variant:"contained",className:q.Button,target:"_blank",href:t,children:r},r))}),sa=()=>o("div",{className:"credits-page",children:[o("div",{className:"title",children:[e(x,{className:"header-h2",variant:"h2",color:"title.main",children:ra}),e(x,{className:"header-h3",variant:"h3",color:"title.light",children:aa})]}),o("div",{className:"credits-page-container",children:[e(na,{}),e("img",{className:"credits-page-image",src:$e,alt:Ur})]})]});const ze=async(a,t)=>{let r=null,s=null;try{const c=await(await fetch(a,{method:Tr,headers:Ne,body:JSON.stringify(t)})).json();if(c.error)throw new Error(c.error);r=c}catch(n){s=n}return{data:r,error:s}},Ye=["Morning","Noon","Evening"],K={drugName:{EMPTY:"Drug name can't be empty."},expirationDate:{EMPTY:"Expiration date can't be empty.",ALLOWED_DATE:"Expiration date is earlier than today.",NOT_VALID_DATE:"Expiration date is not valid date."},dosage:{EMPTY:"Dosage can't be empty."},daytime:{EMPTY:"Daytime can't be empty."}},oa=(a,t)=>{let r="";switch(a){case"drugName":r=ia(t);break;case"drugType":break;case"drugQuantity":break;case"drugPackages":break;case"description":break;case"dosage":r=ca(t);break;case"expirationDate":r=la(t);break;case"daytime":r=da(t);break}return r},ia=a=>a.trim()!==""?"":K.drugName.EMPTY,la=a=>{const t=new Date;let r="";if(a===null)r=K.expirationDate.EMPTY;else{const s=a.setHours(0,0,0,0)<t.setHours(0,0,0,0),n=isNaN(a.getTime());s?r=K.expirationDate.ALLOWED_DATE:n&&(r=K.expirationDate.NOT_VALID_DATE)}return r},ca=a=>a.trim()!==""?"":K.dosage.EMPTY,da=a=>a.length!==0?"":K.daytime.EMPTY,ua="Multiple daytime choice possible.",ge={helper:{fontSize:".8em",color:"helper.main"},error:{fontSize:".8em",color:"error.main"}},ha=at(a=>({button:{width:"200px",[a.breakpoints.down(320)]:{width:"130px"},border:"3px solid black",borderRadius:"45px"},label:{paddingTop:"20px"}})),pa={monthFirst:"MM/dd/yyyy",dayFirst:"dd/MM/yyyy"},ma=({onClose:a,drugAction:t,actionName:r="Add"})=>{var v;const s=ha(),{medicationCategories:n}=i.exports.useContext(H),c={drugName:"",drugType:n[0].name,drugQuantity:n[0].possibleQuantity[0],drugPackages:0,description:"",expirationDate:new Date,dosage:"",daytime:[Ye[0]]},[l,u]=i.exports.useState(c),[p,g]=i.exports.useState({}),d=m=>{m.preventDefault();const f=Object.values(p).every(C=>C===""),E=n.length?n[0].icon:"";if(f){const C=new me("id",l.drugName,l.expirationDate,l.drugType,l.dosage,l.drugQuantity,l.description,E,l.daytime);t(C),a()}},h=m=>f=>{let E="";m==="drugType"?u(A(M({},l),{drugType:f.target.value,drugQuantity:n.find(L=>f.target.value===L._id).possibleQuantity[0]})):(m==="expirationDate"?E=f:E=f.target.value,u(A(M({},l),{[m]:E})));const C=oa(m,E);g(A(M({},p),{[m]:C}))};return e(te,{maxWidth:"md",children:o(S,{component:"form",noValidate:!0,onSubmit:d,sx:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:4},children:[o(y,{container:!0,spacing:2,mb:2,children:[e(y,{item:!0,xs:12,children:e(_,{label:"DRUG NAME",name:"drugName",id:"drugName",variant:"filled",required:!0,fullWidth:!0,autoFocus:!0,color:"secondary",value:l.drugName,onChange:h("drugName"),onBlur:h("drugName"),error:!!p.drugName,helperText:p.drugName?p.drugName:"",FormHelperTextProps:{style:ge.helper}})}),e(y,{item:!0,xs:12,sm:4,children:o(X,{required:!0,fullWidth:!0,children:[e(we,{id:"drugtype-select-label",className:s.label,shrink:!0,color:"label",children:"TYPE"}),e(V,{labelId:"drugtype-select-label",label:"TYPE",name:"drugType",id:"drugtype-select",required:!0,variant:"filled",value:l.drugType,onChange:h("drugType"),onBlur:h("drugType"),children:n.map(m=>e(O,{value:m.name,children:m.name},m._id))})]})}),e(y,{item:!0,xs:12,sm:4,children:o(X,{required:!0,fullWidth:!0,children:[e(we,{id:"drug-quantity-select-label",className:s.label,shrink:!0,color:"label",children:"QUANTITY"}),e(V,{labelId:"drug-quantity-select-label",label:"QUANTITY",name:"drugQuantity",id:"drug-quantity-select",required:!0,variant:"filled",value:l.drugQuantity,onChange:h("drugQuantity"),onBlur:h("drugQuantity"),children:(v=n.find(m=>m.name===l.drugType))==null?void 0:v.possibleQuantity.map(m=>o(O,{value:m,children:[m," ",n.find(f=>f.name===l.drugType).unit]},m))})]})}),e(y,{item:!0,xs:12,sm:4,children:e(_,{label:"PACKAGES",name:"drugPackages",id:"drugPackages",type:"number",variant:"filled",required:!0,fullWidth:!0,color:"secondary",value:l.drugPackages,onChange:h("drugPackages"),onBlur:h("drugPackages"),InputProps:{inputProps:{min:0}}})}),e(y,{item:!0,xs:12,children:e(re,{dateAdapter:be,children:e(rt,{label:"EXPIRATION DATE",name:"expirationDate",id:"expiration-date",openTo:"day",allowSameDateSelection:!0,inputFormat:pa.dayFirst,value:l.expirationDate,onChange:h("expirationDate"),onBlur:h("expirationDate"),renderInput:m=>e(_,A(M({},m),{required:!0,fullWidth:!0,variant:"filled",color:"secondary",error:!!p.expirationDate,helperText:p.expirationDate?p.expirationDate:"",FormHelperTextProps:{style:ge.helper}}))})})}),e(y,{item:!0,xs:12,children:e(_,{label:"DESCRIPTION",name:"description",id:"description",variant:"filled",fullWidth:!0,color:"secondary",value:l.description,onChange:h("description"),onBlur:h("description")})}),e(y,{item:!0,xs:12,sm:6,children:e(_,{label:"DOSAGE",name:"dosage",id:"dosage",variant:"filled",required:!0,fullWidth:!0,color:"secondary",value:l.dosage,onChange:h("dosage"),onBlur:h("dosage"),error:!!p.dosage,helperText:p.dosage?p.dosage:"",FormHelperTextProps:{style:ge.helper}})}),e(y,{item:!0,xs:12,sm:6,children:o(X,{required:!0,fullWidth:!0,children:[e(we,{id:"daytime-select-label",className:s.label,shrink:!0,color:"label",children:"DAYTIME"}),e(V,{labelId:"daytime-select-label",label:"DAYTIME",name:"daytime",id:"daytime-select",required:!0,variant:"filled",multiple:!0,value:l.daytime,onChange:h("daytime"),onBlur:h("daytime"),error:!!p.daytime,children:Ye.map(m=>e(O,{value:m,children:m},m))}),e(Jt,{style:ge.helper,children:e(x,{variant:"caption",color:p.daytime?"error.main":"helper.main",children:p.daytime?p.daytime:ua})})]})})]}),o(y,{container:!0,justifyContent:"space-between",align:"center",children:[e(y,{item:!0,xs:12,sm:6,md:4,mb:2,children:o(b,{type:"submit",variant:"contained",color:"secondary",className:s.button,children:[r," drug"]})}),e(y,{item:!0,xs:12,sm:6,md:4,mb:2,children:e(b,{variant:"contained",color:"secondary",className:s.button,onClick:a,children:"Cancel"})})]})]})})},ga={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",maxWidth:"700px",minHeight:"450px",bgcolor:"background.default",border:"2px solid #000",borderRadius:"20px",boxShadow:24,p:4,mt:3},Ct=({drugAction:a,actionName:t="Add"})=>{const[r,s]=i.exports.useState(!1),n=()=>s(!0),c=()=>s(!1);return o("div",{children:[o(b,{onClick:n,variant:"contained",color:"secondary",sx:{my:3,width:"150px",border:3,borderColor:"black",borderRadius:15},children:[t," drug"]}),e(Me,{open:r,onClose:c,"aria-labelledby":"drug-action-title","aria-describedby":"drug-action-form",closeAfterTransition:!0,BackdropComponent:nt,BackdropProps:{timeout:500},sx:{overflow:"scroll"},children:e(st,{in:r,children:o(S,{sx:ga,children:[o(x,{id:"drug-action-title",variant:"h4",component:"h2",color:"title.main",align:"center",fontWeight:"bold",children:[t.toUpperCase()," DRUG"]}),e(S,{id:"drug-action-form",children:e(ma,{onClose:c,drugAction:a,actionName:t})})]})})})]})},fa="_pill_c86r1_1",xa="_blue_c86r1_14",ya="_orange_c86r1_17",Ta="_yellow_c86r1_20",va="_green_c86r1_23",Ea="_red_c86r1_26",Da="_pink_c86r1_29",ba="_expiration_c86r1_32",Sa="_hide_c86r1_35";var U={pill:fa,blue:xa,orange:ya,yellow:Ta,green:va,red:Ea,pink:Da,expiration:ba,hide:Sa};const _a={pills:U.blue,syrup:U.orange,inhaler:U.yellow,injection:U.red,drops:U.green,patches:U.pink},je=({typeOfMedication:a,name:t,showExpirationDate:r,expirationDate:s})=>{var u;const{medicationCategories:n}=i.exports.useContext(H),l=((u=n.find(p=>p._id===a))==null?void 0:u.name)||a;return e(Zt,{title:`${l} / ${s}`,children:e("div",{children:o("div",{className:`${U.pill} ${_a[l]} ${U.hide}`,children:[t,r&&o("div",{className:U.expiration,children:["Exp. date: ",s]})]})})})};je.propTypes={name:j.string.isRequired,showExpirationDate:j.bool.isRequired,expirationDate:j.oneOfType([j.string,j.instanceOf(Date)]).isRequired};const wa=()=>{const[a,t]=B.useState(new Date),r=()=>{a<it(new Date,7)?t(()=>new Date(it(a,1))):alert("You can't go further")},s=()=>{a>lt(new Date,7)?t(()=>new Date(lt(a,1))):alert("You can't go further")};return o(ee,{children:[e("div",{role:"button",tabIndex:"0",onKeyPress:s,onClick:s,children:e(Se,{fontSize:"large",className:"arrow-back"})}),e(re,{dateAdapter:ot,children:e(Y,{spacing:1,children:e(er,{label:"",openTo:"day",views:["year","day","month"],value:a,onChange:n=>{t(n)},renderInput:n=>e(_,M({},n))})})}),e("div",{role:"button",tabIndex:"0",onKeyPress:r,onClick:r,children:e(_e,{fontSize:"large",className:"arrow-forward"})})]})},Ma="DAILY DRUGS",Ca=()=>{const[a,t]=B.useState(se),r=async s=>{const{data:n,error:c}=await ze(`${G}api/medications`,{nameOfMedication:s.nameOfMedication,quantity:s.quantity,addDate:s.addDate,dosage:s.dosage,category:s.type,expirationDate:s.expirationDate,description:s.description});c||t([...a,s])};return o("div",{className:"daily-view-container",children:[e("div",{className:"title-container",children:e(x,{align:"center",className:"daily-drugs-title",variant:"h2",color:"title.main",children:Ma})}),o("div",{className:"content-container",children:[e("div",{className:"daily-datepicker-container",children:e(wa,{})}),e("div",{className:"drug-box-container",children:e(S,{className:"drug-box",sx:{display:"flex",borderRadius:15},children:Ye.map(s=>o(S,{className:"drug-box-compartment",sx:{borderRadius:10,margin:3},children:[e(x,{align:"center",className:"time-of-day",variant:"h6",children:s}),a.filter(n=>n.daytime.includes(s)).map(n=>e(je,{typeOfMedication:n.type,name:n.nameOfMedication,showExpirationDate:!1,expirationDate:n.expirationDate},`${n.nameOfMedication}_${n.expirationDate}`))]},s))})})]}),e("div",{className:"button-add-drug",children:e(Ct,{drugAction:r})})]})};const Oa="_Button_4mm32_1";var Ot={Button:Oa};const Pa=()=>{const[a,t]=B.useState(new Date);return e("div",{className:"calendar",children:e(re,{className:"calendar",dateAdapter:ot,children:e(tt,{orientation:"landscape",openTo:"day",value:a,onChange:r=>{t(r)},renderInput:r=>e(_,M({},r))})})})};const Na=()=>{const[a,t]=i.exports.useState();return i.exports.useEffect(()=>(setInterval(()=>{const r=new Date;t(r.toLocaleTimeString())},1e3),()=>{t()}),[]),e(x,{variant:"h4",className:"clock",component:"div",color:"datetime.mainFont",children:a})};const Aa=()=>{const[a,t]=i.exports.useState();return i.exports.useEffect(()=>{const r=new Date,n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r.getDay()],c=r.getDate(),l=r.getMonth()+1,u=r.getFullYear();t(`${n}/${c}/${l}/${u}`)},[]),e(x,{variant:"h4",className:"date",component:"div",color:"datetime.mainFont",children:a})};se.sort((a,t)=>a.daysUntilExpiration()>t.daysUntilExpiration()?1:-1);const Ia=({drugsNumber:a})=>{const t=[...se].sort((r,s)=>r.daysUntilExpiration()-s.daysUntilExpiration());return e("div",{className:"soon-expiring-drugs-list",children:t.map((r,s)=>s<a&&r.daysUntilExpiration()<30?o("div",{className:"soon-expiring-medication",children:[e(je,{className:"soonExpiring",typeOfMedication:r.type,name:r.nameOfMedication,showExpirationDate:!0,expirationDate:r.getExpirationDate()},r.nameOfMedication),r.daysUntilExpiration()<0?e("p",{children:"EXPIRED"}):o("p",{children:["DAYS UNTIL EXPIRATION: ",r.daysUntilExpiration()]})]},r.nameOfMedication):null)})},ka=({handleClose:a})=>{const{settings:t,setSettings:r}=i.exports.useContext(ae),s=t.soonExpiringFilterLength;return o("div",{className:"soon-expiring",children:[o("div",{className:"soon-expiring-close",children:[e(x,{className:"soon-expiring-close-header",variant:"h5",children:"SOON EXPIRING"}),e(b,{className:"close-icon",onClick:a,children:"X"})]}),e(Ia,{drugsNumber:s})]})},La=()=>{const[a,t]=i.exports.useState(!0),r=()=>t(!1);return e("div",{className:"soon-expiring-pop-up",children:e(Me,{open:a,"aria-labelledby":"soon-expiring-modal",children:o("div",{className:"soon-expiring-pop-up",children:[e(ka,{handleClose:r}),e(b,{variant:"contained",className:Ot.Button,onClick:r,children:"UNDERSTOOD"})]})})})},Q="aID kIT",fe="Organize your medications",Ra=[{url:he,label:"daily drugs"},{url:Ue,label:"credits"},{url:We,label:"lexicon"},{url:Fe,label:"settings"}],$a=()=>e("div",{className:"nav-list",children:Ra.map(a=>e(b,{variant:"contained",className:Ot.Button,component:I,to:a.url,children:a.label},a.label))}),Ha=()=>{const a=i.exports.useContext(H);return o("div",{className:"user-hub-container",children:[e(La,{}),o("div",{className:"day-time",children:[o(x,{variant:"h4",color:"title.light",fontWeight:"bold",children:["Hello ",a.userData.username]}),e(Na,{}),e(Aa,{})]}),o("div",{className:"home-container",children:[o("div",{className:"text-container",children:[o("div",{className:"title",children:[e(x,{variant:"h2",color:"title.main",fontWeight:"bold",children:Q}),e(x,{variant:"h4",color:"title.light",fontWeight:"bold",children:fe})]}),e($a,{})]}),e("div",{className:"calendar-container",children:e(Pa,{})})]})]})};const Ua="./slide-1.jpg",Wa=`Are you sometimes overwhelmed by 
the amount of information about your medications?`,Fa="./slide-2.jpg",Ba="Do you forget to take your medication on time?",Ga="./slide-3.jpg",za=`You don't know which medications have expired?
And when to visit the pharmacy?`,Ya="./slide-4.jpg",ja="You need a help?",Xa="./slide-5.jpg",Va=`Now smile :)
${Q} application will help you!`,qa="./slide-6.jpg",Ka="Easily organize your medications",Qa="./slide-7.jpg",Ja="Look when you should take your medication",Za="./slide-8.jpg",en="Check the dosage of the drug",tn="./slide-9.jpg",rn="Check the expiry date of your medications",an="./slide-10.jpg",nn="Find knowledge about drugs in the lexicon",sn="./slide-11.jpg",on="And even more stuff",ln="./slide-12.jpg",cn="Information about all your medications in one place",dn="./slide-13.jpg",un=`${Q} always with you supporting your health!`,hn="./slide-14.jpg",pn="",mn=[{imagePathOrUrl:Ua,text:Wa,get alt(){return this.text}},{imagePathOrUrl:Fa,text:Ba,get alt(){return this.text}},{imagePathOrUrl:Ga,text:za,get alt(){return this.text}},{imagePathOrUrl:Ya,text:ja,get alt(){return this.text}},{imagePathOrUrl:Xa,text:Va,get alt(){return this.text}},{imagePathOrUrl:qa,text:Ka,get alt(){return this.text}},{imagePathOrUrl:Qa,text:Ja,get alt(){return this.text}},{imagePathOrUrl:Za,text:en,get alt(){return this.text}},{imagePathOrUrl:tn,text:rn,get alt(){return this.text}},{imagePathOrUrl:an,text:nn,get alt(){return this.text}},{imagePathOrUrl:sn,text:on,get alt(){return this.text}},{imagePathOrUrl:ln,text:cn,get alt(){return this.text}},{imagePathOrUrl:dn,text:un,get alt(){return this.text}},{imagePathOrUrl:hn,text:pn,get alt(){return this.text}}];const gn=a=>{const{slides:t,initialIndex:r=0,withEffect:s=!0,withAutoPlay:n=!0,delay:c=5e3,arrowType:l="round",lastSlideLonger:u="true",setIsLastSlide:p}=a,g=Array.isArray(t)?t.length:0,[d,h]=i.exports.useState(r>=0&&r<g?r:0),[v,m]=i.exports.useState(!1),f=i.exports.useRef(null),E=i.exports.useRef(null),C=i.exports.useRef(null),L=()=>{E.current&&clearTimeout(E.current)};i.exports.useEffect(()=>{if(n){const D=u&&d===g-1?c*1.5:c;L(),E.current=setTimeout(()=>{v||h($=>$===g-1?0:$+1)},D>0?D:0)}return()=>{L()}},[n,d,g,v,c,u]),i.exports.useEffect(()=>{typeof p=="function"&&(d===g-1?p(!0):p(!1))},[d,g,p]);const J=tr({onSwipedLeft:()=>Z(),onSwipedRight:()=>R()});if(!Array.isArray(t)||g<=0)return null;const Z=()=>{T(1)},R=()=>{T(-1)},T=D=>{L(),D<0?h(d===0?g-1:d+D):h(d===g-1?0:d+D)},w=D=>{if(s){f.current.classList.add("slide-effect");const $=f.current,oe=$.getBoundingClientRect();$.style.setProperty("--x",D.clientX-(oe.left+Math.floor(oe.width/2))),$.style.setProperty("--y",D.clientY-(oe.top+Math.floor(oe.height/2)))}},P=()=>{s&&(f.current.classList.remove("slide-effect"),f.current.style.setProperty("--x",0),f.current.style.setProperty("--y",0))},W=()=>{n&&m(!0)},N=()=>{n&&m(!1)},Ve=()=>l==="round"?"round":"square";return e(y,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:{xs:"350px",sm:"400px",md:"430px"}},children:o("div",A(M({className:"slider"},J),{children:[g>1&&e(Se,{className:`slider-arrow-left ${Ve()}`,onClick:R}),g>1&&e(_e,{className:`slider-arrow-right ${Ve()}`,onClick:Z}),t.map((D,$)=>e("div",{className:$===d?"slide active":"slide",onMouseEnter:W,onMouseLeave:N,ref:C,children:$===d&&o(ee,{children:[D.text?e("p",{className:"slide-text",children:D.text}):"",e("img",{ref:f,src:D.imagePathOrUrl,alt:D.alt,className:"slide-image",onMouseMove:w,onMouseLeave:P})]})},D.imagePathOrUrl))]}))})},Pt={path:Et,alt:Dt},fn=[{url:z,label:"Login",icon:e(rr,{className:"landing-page-icon"}),routeClasses:`${q.Button}`},{url:pe,label:"Register",icon:e(ar,{className:"landing-page-icon"}),routeClasses:`${q.Button}`},{url:Ue,label:"Credits",icon:e(nr,{className:"landing-page-icon"}),routeClasses:`${q.Button} secondary-btn`}],xn=()=>{const[a,t]=i.exports.useState(!1);return e(te,{className:"landing-page",children:e(y,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"90vh"},children:o(y,{item:!0,xs:12,children:[o(Y,{direction:"row",spacing:4,alignItems:"center",justifyContent:"center",children:[e(Ze,{src:Pt.path,alt:Pt.alt,sx:{width:100,height:100}}),e(Y,{alignItems:"center",children:o(S,{align:"left",my:{xs:"1",md:"2"},children:[e(x,{variant:"h2",component:"h1",color:"title.main",fontWeight:"bold",children:Q}),e(x,{variant:"h4",component:"h2",color:"title.light",fontWeight:"bold",children:fe})]})})]}),e(y,{item:!0,container:!0,xs:12,alignItems:"center",justifyContent:"center",children:e(gn,{slides:mn,delay:4e3,setIsLastSlide:t})}),e(y,{item:!0,container:!0,xs:12,my:3,alignItems:"center",justifyContent:"center",children:e(Y,{component:"nav",direction:{xs:"column",md:"row"},spacing:4,children:fn.map(r=>o(b,{variant:"contained",component:I,to:r.url,className:r.label==="Register"&&a?`${r.routeClasses} call-to-action`:r.routeClasses,children:[r.icon," ",r.label]},r.label))})})]})})})};const yn=async a=>(await fetch(`${a}`,{method:"GET"})).json(),Tn=(a,t,r,s)=>{r(!1),s(!1),a||r(!0),t||s(!0)},vn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",alignItems:"center",p:4,mt:3,width:"500px",maxWidth:"90vw",minHeight:"50px",bgcolor:"background.default",border:"2px solid #000",borderRadius:"20px",boxShadow:24},xe={marginRight:1};function En(a){let t=null;return a==="info"?t=e(sr,{fontSize:"large",sx:xe}):a==="error"?t=e(or,{fontSize:"large",sx:xe}):a==="warning"?t=e(ir,{fontSize:"large",sx:xe}):a==="success"?t=e(lr,{fontSize:"large",sx:xe}):t=null,t}const ye=({message:a,type:t="info",modalState:r})=>e("div",{children:e(Me,{open:r.isModalOpen,onClose:()=>r.setIsModalOpen(!1),"aria-labelledby":"popup-modal","aria-describedby":"popup-modal",closeAfterTransition:!0,BackdropComponent:nt,BackdropProps:{timeout:500},sx:{overflow:"scroll"},children:e(st,{in:r.isModalOpen,children:o(S,{sx:vn,align:"center",children:[o(x,{id:"add-drug-title",variant:"h4",component:"h2",color:"title.main",fontWeight:"bold",sx:{display:"flex",alignItems:"center"},children:[En(t)," ",t.toUpperCase()]}),e(S,{id:"message",sx:{my:3},children:a}),e(b,{onClick:()=>r.setIsModalOpen(!1),variant:"contained",color:"secondary",sx:{my:3,width:"150px",border:3,borderColor:"black",borderRadius:15},children:"Close"})]})})})}),Nt={success:"Sign in successful!",error:"An error has occurred"},Dn=()=>{const[a,t]=i.exports.useState(""),[r,s]=i.exports.useState(""),[n,c]=i.exports.useState(!1),[l,u]=i.exports.useState(!1),[p,g]=i.exports.useState(""),[d,h]=i.exports.useState(""),v=le(),m=Pe(),{settings:f,setSettings:E}=i.exports.useContext(ae),C=i.exports.useContext(H),L=i.exports.useContext(Ae),J=ct();return o("div",{className:"login-page",children:[o("div",{className:"login-container",children:[e(x,{variant:"h1",color:"title.main",fontWeight:"bold",children:Q}),e(x,{variant:"h2",color:"title.light",fontWeight:"bold",children:fe}),o("form",{className:"login-form",onSubmit:async R=>{R.preventDefault();let T=!1;if(Tn(a,r,c,u),n||l||(T=!0),T){const w={username:a,password:r},{data:P,error:W}=await ze(`${G}api/users/login`,w);W?(g(W.message||Nt.error),L.setIsModalOpen(!0)):(C.setLoginStatus(!0),C.setUserData(P),h(Nt.success),E(await yn(`${G}api/settings/${P.profileRef}`)),(f.appTheme==="dark"&&!v||f.appTheme==="light"&&v)&&m(),setTimeout(()=>{J(ue,{replace:!0})},1e3))}},children:[e(_,{id:"username-input",onChange:R=>t(R.target.value),label:"USERNAME",variant:"filled",color:"secondary",error:n,style:{width:"80%"}}),e(_,{id:"password-input",type:"password",onChange:R=>s(R.target.value),label:"PASSWORD",variant:"filled",color:"secondary",error:l,style:{width:"80%"}}),e(x,{variant:"p",component:"p",align:"center",children:d}),e(ye,{message:p,type:"error",modalState:L}),e(b,{type:"submit",variant:"contained",className:q.Button,children:"Log In"}),e(b,{component:I,to:pe,color:"secondary",children:"Create New Account"})]})]}),e("img",{src:de,alt:bt})]})};const At="CHOOSE A DRUG TO SHOW THE DESCRIPTION",bn=de,Sn=()=>{const t=i.exports.useContext(H).userData.profileRef,[r,s]=i.exports.useState(At),[n,c]=i.exports.useState(bn),[l,u]=i.exports.useState(null),[p,g]=i.exports.useState(!1),[d,h]=i.exports.useState(!1),[v,m]=i.exports.useState(""),f=ht(`${G}api/profiles/${t}/meds`).data,E={isModalOpen:p,setIsModalOpen:g},C={isModalOpen:d,setIsModalOpen:h},L=i.exports.memo(({isDescription:T})=>T!==At?e(Ct,{drugAction:Z,actionName:"Update"}):e("div",{})),J=i.exports.memo(({meds:T})=>T===null?e("div",{className:"drugs-list"}):e("div",{className:"drugs-list",children:T.map(({nameOfMedication:w})=>e(b,{onClick:R,variant:"contained",className:q.Button,children:w},w))}));async function Z(T){const w=l;let P;f.forEach(N=>{N.nameOfMedication.toUpperCase()===w&&(console.log(N),P=N._id,console.log(P))}),T.id=P,console.log(T);const W={nameOfMedication:T.nameOfMedication,quantity:T.quantity,dosage:T.dosage,expirationDate:T.expirationDate,description:T.description};try{const N=await fetch(`${URL}api/medications/${P}`,{method:pt,headers:Ne,body:JSON.stringify(W)});N.ok?(N.json(),h(!0)):(m("Medication was not updated."),g(!0))}catch(N){console.error(N),m(N.toString()),g(!0)}}const R=T=>{u(T.target.innerText);const w=f.find(({nameOfMedication:W})=>W.toUpperCase()===T.target.innerText),P=`NAME: ${w.nameOfMedication} 
 EXPIRATION DATE: ${w.expirationDate.substr(0,10)} 
 DESCRIPTION: ${w.description} 
 DOSAGE: ${w.dosage} 
 QUANTITY: ${w.quantity}`;s(P)};return o("div",{className:"my-drugs-page",children:[e(x,{className:"header-h2",variant:"h2",color:"title.main",children:"YOUR DRUGS"}),e(ye,{message:v,type:"error",modalState:E}),e(ye,{message:"Medication updated!",type:"success",modalState:C}),o("div",{className:"drugs-container",children:[e(J,{meds:f}),o("div",{className:"drug-description",children:[e(x,{className:"drug-description-header",variant:"h4",color:"title.light",children:"DRUG DESCRIPTION"}),e(x,{className:"drug-description-details",color:"text.main",children:r}),e("img",{className:"drug-description-image",src:n,alt:"Medication",width:"250"}),e(L,{isDescription:r})]})]})]})};const _n=(a,t)=>{const[r,s]=i.exports.useState(!1),[n,c]=i.exports.useState(null),[l,u]=i.exports.useState(!1);return i.exports.useEffect(()=>{(async function(){try{u(!0);const g=await fetch(`${a}`,{method:pt,headers:Ne,body:JSON.stringify(t)});if(s(g.ok),!g.ok)throw new Error(g.statusText)}catch(g){c(g.message)}finally{u(!1)}})()},[a,t]),{isSuccess:r,error:n,isLoading:l}},wn=()=>{const{settings:a,setSettings:t}=i.exports.useContext(ae),r=i.exports.useContext(H),[s,n]=i.exports.useState(a.appTheme),[c,l]=i.exports.useState(a.soonExpiringFilterLength),u=le(),p=Pe(),{isSuccess:g,error:d,isLoading:h}=_n(`${G}api/settings/${r.userData.profileRef}`,a);return i.exports.useEffect(()=>{!h&&g&&alert("Settings updated successfully!"),!h&&d&&alert(`Error occurred: ${d}`)},[g,d,h]),o("div",{className:"settings-page",children:[e(x,{className:"header-h2",variant:"h2",color:"title.main",children:"SETTINGS"}),o("div",{className:"settings-container",children:[o("div",{className:"theme-settings",children:[e(x,{variant:"h4",color:"title.light",children:"Default app theme:"}),e(X,{children:o(V,{id:"select-theme",displayEmpty:!0,value:s,onChange:f=>{n(f.target.value),t(new Oe(f.target.value,c)),(f.target.value==="dark"&&!u||f.target.value==="light"&&u)&&p()},inputProps:{"aria-label":"Without label"},children:[e(O,{value:"light",children:"Light Theme"}),e(O,{value:"dark",children:"Dark Theme"})]})})]}),o("div",{className:"length-settings",children:[e(x,{variant:"h4",color:"title.light",children:"Number of drugs displayed in soon expiring:"}),e(X,{children:o(V,{id:"select-soon-expiring-length",displayEmpty:!0,value:c,onChange:f=>{l(f.target.value),t(new Oe(s,f.target.value))},inputProps:{"aria-label":"Without label"},children:[e(O,{value:3,children:"Three"}),e(O,{value:5,children:"Five"}),e(O,{value:7,children:"Seven"})]})})]})]})]})};const k={username:{EMPTY:"Username can't be empty.",MIN:"Username must have at least 6 characters.",MAX:"Username can have maximum 16 characters.",ALLOWED_CHARACTERS:"Invalid username. Use only letters and digits."},email:{EMPTY:"Email can't be empty.",ALLOWED_FORMAT:"Invalid email."},password:{EMPTY:"Password can't be empty.",MIN:"Password must have at least 8 characters.",MAX:"Password can have maximum 16 characters.",ALLOWED_CHARACTERS:"Password must include at least one uppercase letter, number and special character."},confirmedPassword:{MATCH:"Passwords don't match."}},It={EMAIL:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,PASSWORD:/^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-])/},Xe="UPDATE_FORM_STATE",Te=(a,t,r)=>{const{name:s,value:n}=a.target;kt(s,n,t,r,!1)},ve=(a,t,r)=>{const{name:s,value:n}=a.target;kt(s,n,t,r,!0)},kt=(a,t,r,s,n)=>{const{hasError:c,errorText:l}=Lt(a,t,r);let u=!0;for(const p in r)if(p===a&&c){u=!1;break}else if(p!==a&&r[p].hasError){u=!1;break}s({type:Xe,payload:{name:a,value:t,visited:n,hasError:c,errorText:l,isFormValid:u}})},Lt=(a,t,r={})=>{let s={};switch(a){case"username":s=Mn(t);break;case"email":s=Cn(t);break;case"password":s=On(t);break;case"confirmedPassword":s=Pn(t,r.password.value);break}return s},Mn=a=>{let t=!1,r="";return a.trim()===""?(t=!0,r=k.username.EMPTY):a.trim().length<6?(t=!0,r=k.username.MIN):a.trim().length>16?(t=!0,r=k.username.MAX):/^[a-zA-Z0-9]+$/.test(a)?(t=!1,r=""):(t=!0,r=k.username.ALLOWED_CHARACTERS),{hasError:t,errorText:r}},Cn=a=>{let t=!1,r="";return a.trim()===""?(t=!0,r=k.email.EMPTY):It.EMAIL.test(a)?(t=!1,r=""):(t=!0,r=k.email.ALLOWED_FORMAT),{hasError:t,errorText:r}},On=a=>{let t=!1,r="";return a.trim()===""?(t=!0,r=k.password.EMPTY):a.trim().length<8?(t=!0,r=k.password.MIN):a.trim().length>16?(t=!0,r=k.password.MAX):It.PASSWORD.test(a)?(t=!1,r=""):(t=!0,r=k.password.ALLOWED_CHARACTERS),{hasError:t,errorText:r}},Pn=(a,t)=>{let r=!1,s="";return a!==t?(r=!0,s=k.confirmedPassword.MATCH):(r=!1,s=""),{hasError:r,errorText:s}},Ee={helper:{fontSize:".8em"}},Nn=at({button:{width:"200px",border:"3px solid black",borderRadius:"45px"}}),An={username:{value:"",visited:!1,hasError:!0,errorText:""},email:{value:"",visited:!1,hasError:!0,errorText:""},password:{value:"",visited:!1,hasError:!0,errorText:""},confirmedPassword:{value:"",visited:!1,hasError:!0,errorText:""},isFormValid:!1},Rt={success:"Sign up successful!",error:"An error has occurred"},In=(a,t)=>{const{name:r,value:s,visited:n,hasError:c,errorText:l,isFormValid:u}=t.payload;switch(t.type){case Xe:return A(M({},a),{[r]:A(M({},a[r]),{value:s,visited:n,hasError:c,errorText:l}),isFormValid:u});default:return a}},kn=a=>{const t={};return Object.entries(a).filter(([r])=>r!=="isFormValid"&&r!=="confirmedPassword").forEach(([r,s])=>{t[r]=s.value}),t},Ln=()=>{const a=Nn(),[t,r]=i.exports.useReducer(In,An),[s,n]=i.exports.useState(""),[c,l]=i.exports.useState(""),u=i.exports.useContext(Ae),p=ct();return e(te,{maxWidth:"xs",children:o(S,{component:"form",noValidate:!0,onSubmit:async d=>{d.preventDefault();let h=!0;for(const v of Object.keys(t)){const{value:m}=t[v],{hasError:f,errorText:E}=Lt(v,m,t);f&&(h=!1),v&&r({type:Xe,payload:{name:v,value:m,visited:!0,hasError:f,errorText:E,isFormValid:h}})}if(h){const v=kn(t),{error:m}=await ze(`${G}api/users/`,v);m?(n(m.message||Rt.error),u.setIsModalOpen(!0)):(l(Rt.success),setTimeout(()=>{p(z,{replace:!0})},1e3))}},sx:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:5},children:[o(y,{container:!0,spacing:2,mb:3,children:[e(y,{item:!0,xs:12,children:e(_,{label:"USERNAME",name:"username",id:"username",variant:"filled",required:!0,fullWidth:!0,autoFocus:!0,color:"secondary",value:t.username.value,error:t.username.visited&&t.username.hasError,helperText:t.username.visited&&t.username.hasError?t.username.errorText:"",FormHelperTextProps:{style:Ee.helper},onChange:d=>{Te(d,t,r)},onBlur:d=>{ve(d,t,r)}})}),e(y,{item:!0,xs:12,children:e(_,{label:"EMAIL",id:"email",name:"email",variant:"filled",required:!0,fullWidth:!0,color:"secondary",value:t.email.value,error:t.email.visited&&t.email.hasError,helperText:t.email.visited&&t.email.hasError?t.email.errorText:"",FormHelperTextProps:{style:Ee.helper},onChange:d=>{Te(d,t,r)},onBlur:d=>{ve(d,t,r)}})}),e(y,{item:!0,xs:12,children:e(_,{label:"PASSWORD",name:"password",id:"password",type:"password",variant:"filled",required:!0,fullWidth:!0,color:"secondary",value:t.password.value,error:t.password.visited&&t.password.hasError,helperText:t.password.visited&&t.password.hasError?t.password.errorText:"",FormHelperTextProps:{style:Ee.helper},onChange:d=>{Te(d,t,r)},onBlur:d=>{ve(d,t,r)}})}),e(y,{item:!0,xs:12,children:e(_,{label:"CONFIRM PASSWORD",name:"confirmedPassword",id:"confirmedPassword",type:"password",variant:"filled",required:!0,fullWidth:!0,color:"secondary",value:t.confirmedPassword.value,error:t.confirmedPassword.visited&&t.confirmedPassword.hasError,helperText:t.confirmedPassword.visited&&t.confirmedPassword.hasError?t.confirmedPassword.errorText:"",FormHelperTextProps:{style:Ee.helper},onChange:d=>{Te(d,t,r)},onBlur:d=>{ve(d,t,r)}})}),o(y,{item:!0,xs:12,children:[e(x,{variant:"p",component:"p",align:"center",children:c}),e(ye,{message:s,type:"error",modalState:u})]})]}),e(y,{container:!0,justifyContent:"center",mb:2,children:e(b,{type:"submit",variant:"contained",color:"secondary",className:a.button,children:"Sign Up"})}),e(y,{container:!0,justifyContent:"center",children:e(y,{item:!0,children:e(b,{component:I,to:z,color:"secondary",onMouseDown:d=>{d.preventDefault(),d.target.click()},align:"center",children:"Already have an account? Sign in"})})})]})})},$t={pathOrUrl:de,alt:bt},Rn=()=>e(te,{className:"signup-page",children:o(y,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between",sx:{minHeight:"100vh"},children:[e(y,{item:!0,xs:12,md:6,children:o(Y,{alignItems:"center",children:[o(S,{align:"left",children:[e(x,{variant:"h2",component:"h1",color:"title.main",fontWeight:"bold",children:Q}),e(x,{variant:"h4",component:"h3",color:"title.light",fontWeight:"bold",children:fe})]}),e(Ln,{})]})}),e(y,{item:!0,xs:12,md:6,align:"center",children:e("img",{src:$t.pathOrUrl,alt:$t.alt,className:"main-picture",width:"65%"})})]})}),$n=[{url:St,element:e(ne,{site:e(ea,{})})},{url:Ue,element:e(sa,{})},{url:he,element:e(ne,{site:e(Ca,{})})},{url:We,element:e("p",{children:"Lexicon"})},{url:z,element:e(Dn,{})},{url:pe,element:e(Rn,{})},{url:ue,element:e(Ha,{})},{url:Fe,element:e(ne,{site:e(wn,{})})},{url:_t,element:e(ne,{site:e(Sn,{})})}],Hn=()=>{const t=le()?Hr:$r,{pathname:r}=cr();return o(dr,{theme:t,children:[e(ur,{}),o("div",{className:"App",children:[[He,z,pe].indexOf(r)>=0?null:e(Xr,{}),o(hr,{children:[e(Ce,{path:He,element:e(xn,{})}),$n.map(n=>e(Ce,{path:n.url,element:n.element},n.url)),e(Ce,{path:"/*",element:e("main",{style:{padding:"1rem"},children:e(I,{to:He,children:"Page not found. Click here to continue to the home page"})})})]})]})]})};pr.render(e(B.StrictMode,{children:e(mr,{children:e(fr,{children:e(xr,{children:e(Er,{children:e(Dr,{children:e(Hn,{})})})})})})}),document.getElementById("root"));wr();
